<section class="section section--icons icons icons--{{ section.id }}" {{ section.shopify_attributes }} >
  <style>.icons--{{ section.id }} { background-color: {{ section.settings.bg_color }}; }</style>
  {% if section.settings.title != blank %}
    <div class="section__header">
      <h1 class="center">{{ section.settings.title }}</h1>
    </div>
  {% endif %}
  <div class="section__content icons__items {{ section.settings.container_width }}">
    {% for block in section.blocks %}
      <div class="icon__item" {{ block.shopify_attributes }}>
        <img class="lazy" data-src="{{ block.settings.image | img_url: '2000x' }}" alt="{% if block.settings.image.alt != blank %}{{ block.settings.image.alt }}{% else %}{{ block.settings.title }}{% endif %}"/>
        {% if block.settings.title != blank %}<h2 class="icon__heading">{{ block.settings.title }}</h2>{% endif %}
        {% if block.settings.subtitle != blank %}<p class="icon__subheading">{{ block.settings.subtitle }}</p>{% endif %}
      </div>
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "Highlights",
  "settings": [
    {
      "type":"header",
      "content":"Design Settings"
    },
    {
      "type":"color",
      "id":"bg_color",
      "label":"Container Background Color",
      "default":"#fff"
    },
    {
      "type":"select",
      "id":"container_width",
      "label":"Container Width",
      "options":[
        {"value":"container--full", "label":"Full Width"},
        {"value":"container", "label":"Contained"},
        {"value":"container--slim", "label":"Slim"}
      ],
      "default":"container--slim"
    },
    {
      "type":"header",
      "content":"Content Settings"
    },
    {
      "type":"text",
      "id":"title",
      "label":"Heading"
    }
  ],
  "blocks": [
    {
      "type":"icon",
      "name":"Icons",
      "settings":[
        {
          "type":"image_picker",
          "id":"image",
          "label":"Image"
        },
        {
          "type":"text",
          "id":"title",
          "label":"Heading"
        },
        {
          "type":"text",
          "id":"subtitle",
          "label":"Subheading"
        }
      ]
    }
  ]
}
{% endschema %}

